{% extends 'nobody.html.twig' %}

{% block content %}
    {% if error %}
        <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}
    <div class="login-container">
        <div class="site-logo">{{settingservice.getSetting('site.logo')|raw}}</div>
        {{blockservice.getBlock('login')|raw}}
        <form action="{{ path('login') }}" method="post">
            <div class="form-group">
                <label for="username">{% trans %}Email{% endtrans %}</label>
                <input type="text" id="username" name="_username" class="form-control" value="{{ last_username }}" />
            </div>
            <div class="form-group">
                <label for="password">{% trans %}Password{% endtrans %}</label>
                <input type="password" id="password" name="_password" class="form-control" />
            </div>
            <div class="row mb-4">
                <div class="col">
                    <div class="form-check mb-2 pl-0">
                        <input type="checkbox" class="remember-me" id="remember-me">
                        <label class="form-check-label" for="remember-me">{% trans %}Reminder me{% endtrans %}</label>
                    </div>
                </div>
                <div class="col text-right">
                    <a href="#">{% trans %}Get new password{% endtrans %}</a>
                </div>
            </div>
            <input type="hidden" name="_target_path" value="{{ path('admin_dashboard') }}" />
            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
            <button type="submit" class="btn btn-primary w-100">{% trans %}Login{% endtrans %}</button>
        </form>
    </div>

{% endblock %}

{% block stylesheets %}
    {{ parent() }}

        <style>
            .login-container {
                width: 100%;
                max-width: 400px;
                margin: 0 auto;
                margin-top: 10%;
                padding: 15px;
                background-color: rgba(255,255,255,0.7);
                border-radius: 0.1rem;
                position: relative;
            }
            .login-container::before,
            .login-container::after {
                display: block;
                content: '';
                z-index: 1;
                position: absolute;
                top: 0;
                width: 100%;
                height: 100%;
                margin-left: -15px;
            }
            .login-container::after {
                background-color: rgba(255,255,255,0.75);
            }

            .login-container::before {
                background-repeat: no-repeat;
                background-size: cover;
                background-position: center center;
                background-attachment: fixed;
                overflow: hidden;
            }
            .login-container > div,
            .login-container > form {
                z-index: 4;
                position: relative;
            }
            .site-logo {
                text-align: center;
                font-size: 2.5rem;
                margin-bottom: 1rem;
            }
            .site-logo img {
                max-width: 200px !important;
                max-height: 90px !important;
            }
        </style>
{% endblock %}
