{% extends templateservice.getAdminTemplate() %}

{% block content %}
<datamanager></datamanager>
{% endblock %}

{% block stylesheets %}
{{ parent() }}
    {{ encore_entry_link_tags('data-manager') }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        var apikey = '{{apikey}}';

        var api = {
            list: '/translation/list/',
            get: '/translation/get/',
            insert: '/translation/insert/',
            update: '/translation/update/',
            delete: '/translation/delete/',
            custom_form: '/translation/fields/'
        };

        var buttons = [
            {
                id: 'generate',
                label: '{% trans %}Generate translation files{% endtrans %}',
                api: '/translation/generate/'
            },
            {
                id: 'populate',
                label: '{% trans %}Get missing translations{% endtrans %}',
                api: '/translation/populate/'
            },
            {
                id: 'export',
                label: '{% trans %}Exports{% endtrans %}',
                url: '/{{ app.request.locale }}/admin/translation/export/'
            }
        ];

        var columns = [
            {
                id: 'id',
                label: '{% trans %}ID{% endtrans %}',
                type: 'text',
                required: true,
                editable: false,
                show_list: true,
                show_form: false,
            },
            {
                id: 'original',
                label: '{% trans %}Original{% endtrans %}',
                type: 'text',
                required: true,
                editable: true,
                show_list: true,
                show_form: true,
            },
            {
                id: 'complete',
                label: '{% trans %}Complete{% endtrans %}',
                type: 'text',
                required: true,
                editable: true,
                show_list: true,
                show_form: true,
            }
        ];

    </script>
    {{ encore_entry_script_tags('data-manager') }}
{% endblock %}
